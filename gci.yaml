version: 0.0.1
build:
  output-binary: gci
  cross-compile: false
  env:
    - GOOS=linux
    - GOARCH=amd64
test:
  paths:
    - ./actions/...
    - ./config/...
    - ./util/...
    - ./log/...
    - ./server/...
    - ./tpl/...
    - .
docker:
  image-name: quay.io/arschles/gci
  tag: 0.0.1
  build:
    context:
      dir: .
      skip:
        - vendor
  push:
    auth-file-location: ~/.docker/config.json
custom:
  - name: hello-world
    image-name: ubuntu
    image-tag: "14.04"
    command: "echo 'hello world'"
    mounts:
      - host: vendor
        container: /vendored
ci:
  server:
    host: 0.0.0.0
    port: 8084
  build:
    port: 8084
    exclude:
      - name: gci
      - name: README.md
      - name: LICENSE
      - name: Dockerfile
      - name: .git
        recursive: true
